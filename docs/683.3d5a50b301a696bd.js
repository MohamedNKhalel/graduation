"use strict";(self.webpackChunkgraduation=self.webpackChunkgraduation||[]).push([[683],{7683:(J,u,s)=>{s.r(u),s.d(u,{PatientDetailsComponent:()=>U});var d=s(6814),p=s(2577),m=s(8098),t=s(5879),g=s(2848),h=s(7104),r=s(95),_=s(4170),b=s(2032);const f=function(a){return["/records",a]};function v(a,o){if(1&a&&(t.TgZ(0,"button",4),t._uU(1,"Show Patient scan history"),t.qZA()),2&a){const e=t.oxw();t.Q6J("routerLink",t.VKq(1,f,e.patient.id))}}function P(a,o){if(1&a&&(t.TgZ(0,"div",5)(1,"h3",6),t._uU(2,"Patient Information"),t.qZA(),t.TgZ(3,"div",7)(4,"div",8)(5,"mat-form-field",9)(6,"mat-label"),t._uU(7,"Patient Name"),t.qZA(),t._UZ(8,"input",10),t.qZA(),t._UZ(9,"img",11),t.qZA()(),t.TgZ(10,"div",7)(11,"div",8)(12,"mat-form-field",9)(13,"mat-label"),t._uU(14,"Patient Email"),t.qZA(),t._UZ(15,"input",12),t.qZA(),t._UZ(16,"img",13),t.qZA()(),t.TgZ(17,"div",7)(18,"div",8)(19,"mat-form-field",9)(20,"mat-label"),t._uU(21,"Patient BirthDate"),t.qZA(),t._UZ(22,"input",14),t.qZA(),t._UZ(23,"img",15),t.qZA()(),t.TgZ(24,"div",7)(25,"div",8)(26,"mat-form-field",9)(27,"mat-label"),t._uU(28,"Patient Gender"),t.qZA(),t._UZ(29,"input",16),t.qZA(),t._UZ(30,"img",17),t.qZA()(),t.TgZ(31,"div",7)(32,"div",8)(33,"mat-form-field",9)(34,"mat-label"),t._uU(35,"Patient Phone"),t.qZA(),t._UZ(36,"input",18),t.qZA(),t._UZ(37,"img",19),t.qZA()(),t.TgZ(38,"div",7)(39,"div",8)(40,"mat-form-field",9)(41,"mat-label"),t._uU(42,"Patient Age"),t.qZA(),t._UZ(43,"input",20),t.qZA(),t._UZ(44,"img",21),t.qZA()()()),2&a){const e=t.oxw();t.xp6(8),t.Q6J("value",null==e.patient?null:e.patient.name),t.xp6(7),t.Q6J("value",null!=e.patient&&e.patient.email?null==e.patient?null:e.patient.email:"Not assigned yet"),t.xp6(7),t.Q6J("value",null==e.patient?null:e.patient.date_of_birth),t.xp6(7),t.Q6J("value",null==e.patient?null:e.patient.gender),t.xp6(7),t.Q6J("value",null==e.patient?null:e.patient.phone),t.xp6(7),t.Q6J("value",e.age)}}function x(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleEditButton())}),t._uU(1,"Edit Rates"),t.qZA()}}function Z(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.updatePatientRates())}),t._uU(1,"Submit Editing"),t.qZA()}}function D(a,o){if(1&a&&t._UZ(0,"input",33),2&a){const e=t.oxw(2);t.Q6J("disabled",e.editRatesDisabled)("value",null!=e.rates&&e.rates.blood?e.rates.blood:"Not assigned")}}function A(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"input",34),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.bloodPressure=n)}),t.qZA()}if(2&a){const e=t.oxw(2);t.Q6J("ngModel",e.bloodPressure)("disabled",e.editRatesDisabled)}}function C(a,o){if(1&a&&t._UZ(0,"input",33),2&a){const e=t.oxw(2);t.Q6J("disabled",e.editRatesDisabled)("value",null!=e.rates&&e.rates.glucose?e.rates.glucose:"Not assigned")}}function I(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"input",34),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.SugarPressure=n)}),t.qZA()}if(2&a){const e=t.oxw(2);t.Q6J("ngModel",e.SugarPressure)("disabled",e.editRatesDisabled)}}function T(a,o){if(1&a&&t._UZ(0,"input",33),2&a){const e=t.oxw(2);t.Q6J("disabled",e.editRatesDisabled)("value",null!=e.rates&&e.rates.Temperature?e.rates.Temperature:"Not assigned")}}function M(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"input",34),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.temprature=n)}),t.qZA()}if(2&a){const e=t.oxw(2);t.Q6J("ngModel",e.temprature)("disabled",e.editRatesDisabled)}}function E(a,o){if(1&a&&(t.TgZ(0,"div",22)(1,"h3",6),t._uU(2,"Patient rates"),t.qZA(),t.TgZ(3,"div"),t.YNc(4,x,2,0,"button",23),t.YNc(5,Z,2,0,"button",24),t.qZA(),t.TgZ(6,"div",7)(7,"div",25)(8,"mat-form-field",9)(9,"mat-label"),t._uU(10,"Blood pressure"),t.qZA(),t.YNc(11,D,1,2,"input",26),t.YNc(12,A,1,2,"input",27),t.qZA(),t._UZ(13,"img",28),t.qZA()(),t.TgZ(14,"div",7)(15,"div",25)(16,"mat-form-field",9)(17,"mat-label"),t._uU(18,"Blood Sugar"),t.qZA(),t.YNc(19,C,1,2,"input",26),t.YNc(20,I,1,2,"input",27),t.qZA(),t._UZ(21,"img",29),t.qZA()(),t.TgZ(22,"div",7)(23,"div",25)(24,"mat-form-field",9)(25,"mat-label"),t._uU(26,"Temprature"),t.qZA(),t.YNc(27,T,1,2,"input",26),t.YNc(28,M,1,2,"input",27),t.qZA(),t._UZ(29,"img",30),t.qZA()()()),2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.showEdit),t.xp6(1),t.Q6J("ngIf",e.showEdit),t.xp6(6),t.Q6J("ngIf",e.editRatesDisabled),t.xp6(1),t.Q6J("ngIf",!e.editRatesDisabled),t.xp6(7),t.Q6J("ngIf",e.editRatesDisabled),t.xp6(1),t.Q6J("ngIf",!e.editRatesDisabled),t.xp6(7),t.Q6J("ngIf",e.editRatesDisabled),t.xp6(1),t.Q6J("ngIf",!e.editRatesDisabled)}}let U=(()=>{class a{constructor(e,i,n,l){this._DatePipe=e,this._DataService=i,this._ActivatedRoute=n,this._AngularFirestore=l,this.showEdit=!1,this.editRatesDisabled=!0,this.bloodPressure="",this.SugarPressure="",this.temprature="",this.rates={}}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{let i=e.get("id");this.getPatientById(i),this.patientId=i,this.updatePtientId(this.patientId)}})}toggleEditButton(){this.showEdit=!this.showEdit,this.editRatesDisabled=!this.editRatesDisabled}updatePatientRates(){this.showEdit=!this.showEdit,this.editRatesDisabled=!this.editRatesDisabled,this._DataService.updatePatient().doc(this.patientId).update({rates:{blood:this.bloodPressure,glucose:this.SugarPressure,Temperature:this.temprature}}),this.getPatientById(this.patientId)}updatePtientId(e){this._DataService.updatePatientId().doc(e).update({id:this.patientId})}getPatientById(e){this._DataService.getSpecificPatient().doc(e).get().subscribe({next:i=>{this.patient=i.data(),console.log(i.data()),console.log(this.patient.rates),this.birthDate=this.patient.date_of_birth.split("/").reverse().join("-"),this.rates=this.patient.rates,this.bloodPressure=this.rates?.blood,this.SugarPressure=this.rates?.glucose,this.temprature=this.rates?.Temperature,this.calculateAge(this.birthDate)},error:i=>{console.log(i)}})}calculateAge(e){const i=new Date(e),n=new Date;let l=n.getFullYear()-i.getFullYear();const c=n.getMonth()-i.getMonth();(c<0||0===c&&n.getDate()<i.getDate())&&l--,this.age=l}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(d.uU),t.Y36(g.D),t.Y36(p.gz),t.Y36(h.ST))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-patient-details"]],standalone:!0,features:[t._Bn([d.uU]),t.jDz],decls:5,vars:3,consts:[[1,"main","container","py-5","ms-md-3"],["type","button","class","btn btn-primary d-block ms-auto mb-3",3,"routerLink",4,"ngIf"],["class","row shadow p-2  rounded-2",4,"ngIf"],["class","row shadow p-2  rounded-2 mt-4 ",4,"ngIf"],["type","button",1,"btn","btn-primary","d-block","ms-auto","mb-3",3,"routerLink"],[1,"row","shadow","p-2","rounded-2"],[1,"title","border-bottom","text-center","text-uppercase","text-info","pb-2"],[1,"col-md-6"],[1,"info"],["appearance","outline"],["disabled","","placeholder","name","type","text","matInput","",3,"value"],["src","assets/images/medical records/registration.png","alt",""],["disabled","","placeholder","email","type","text","matInput","",3,"value"],["src","assets/images/medical records/mail.png","alt",""],["disabled","","placeholder","birth","type","text","matInput","",3,"value"],["src","assets/images/medical records/calendar.png","alt",""],["disabled","","placeholder","gender","type","text","matInput","",3,"value"],["src","assets/images/medical records/gender.png","alt",""],["disabled","","placeholder","phone","type","text","matInput","",3,"value"],["src","assets/images/medical records/phone-call.png","alt",""],["disabled","","placeholder","age","type","text","matInput","",3,"value"],["src","assets/images/medical records/age.png","alt",""],[1,"row","shadow","p-2","rounded-2","mt-4"],["class","btn btn-outline-success d-block ms-auto my-2",3,"click",4,"ngIf"],["class","btn btn-outline-dark d-block ms-auto my-2",3,"click",4,"ngIf"],[1,"rate"],["placeholder","rate","type","text","matInput","",3,"disabled","value",4,"ngIf"],["placeholder","rate","type","text","matInput","",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["src","assets/images/blood-donation.png","alt",""],["src","assets/images/blood-pressure.png","alt",""],["src","assets/images/temprature.png","alt",""],[1,"btn","btn-outline-success","d-block","ms-auto","my-2",3,"click"],[1,"btn","btn-outline-dark","d-block","ms-auto","my-2",3,"click"],["placeholder","rate","type","text","matInput","",3,"disabled","value"],["placeholder","rate","type","text","matInput","",3,"ngModel","disabled","ngModelChange"]],template:function(i,n){1&i&&(t.TgZ(0,"section",0)(1,"div"),t.YNc(2,v,2,3,"button",1),t.YNc(3,P,45,6,"div",2),t.YNc(4,E,30,8,"div",3),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngIf",n.patient),t.xp6(1),t.Q6J("ngIf",n.patient),t.xp6(1),t.Q6J("ngIf",n.patient))},dependencies:[d.ez,d.O5,p.rH,m.m,r.Fj,r.JJ,r.On,_.KE,_.hX,b.Nt],styles:["input[_ngcontent-%COMP%]:disabled{color:#000!important}mat-label[_ngcontent-%COMP%]{color:var(--main-color)!important}mat-form-field[_ngcontent-%COMP%]{width:100%}.info[_ngcontent-%COMP%]{position:relative}.info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;position:absolute;right:20px;top:10px}.rate[_ngcontent-%COMP%]{position:relative}.rate[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;position:absolute;right:20px;top:10px}"]})}return a})()}}]);