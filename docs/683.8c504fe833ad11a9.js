"use strict";(self.webpackChunkgraduation=self.webpackChunkgraduation||[]).push([[683],{7683:(R,u,s)=>{s.r(u),s.d(u,{PatientDetailsComponent:()=>A});var r=s(6814),_=s(2577),c=s(8098),t=s(5879),m=s(2848),g=s(7104),d=s(95),p=s(4170),h=s(2032);const b=function(n){return["/records",n]};function f(n,o){if(1&n&&(t.TgZ(0,"button",4),t._uU(1,"Show Patient scan history"),t.qZA()),2&n){const e=t.oxw();t.Q6J("routerLink",t.VKq(1,b,e.patient.id))}}function v(n,o){if(1&n&&(t.TgZ(0,"div",5)(1,"h3",6),t._uU(2,"Patient Information"),t.qZA(),t.TgZ(3,"div",7)(4,"div")(5,"mat-form-field",8)(6,"mat-label"),t._uU(7,"Patient Name"),t.qZA(),t._UZ(8,"input",9),t.qZA()()(),t.TgZ(9,"div",7)(10,"div")(11,"mat-form-field",8)(12,"mat-label"),t._uU(13,"Patient Email"),t.qZA(),t._UZ(14,"input",10),t.qZA()()(),t.TgZ(15,"div",7)(16,"div")(17,"mat-form-field",8)(18,"mat-label"),t._uU(19,"Patient BirthDate"),t.qZA(),t._UZ(20,"input",11),t.qZA()()(),t.TgZ(21,"div",7)(22,"div")(23,"mat-form-field",8)(24,"mat-label"),t._uU(25,"Patient Gender"),t.qZA(),t._UZ(26,"input",12),t.qZA()()(),t.TgZ(27,"div",7)(28,"div")(29,"mat-form-field",8)(30,"mat-label"),t._uU(31,"Patient Phone"),t.qZA(),t._UZ(32,"input",13),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(8),t.Q6J("value",null==e.patient?null:e.patient.name),t.xp6(6),t.Q6J("value",null!=e.patient&&e.patient.email?null==e.patient?null:e.patient.email:"Not assigned yet"),t.xp6(6),t.Q6J("value",null==e.patient?null:e.patient.date_of_birth),t.xp6(6),t.Q6J("value",null==e.patient?null:e.patient.gender),t.xp6(6),t.Q6J("value",null==e.patient?null:e.patient.phone)}}function P(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.toggleEditButton())}),t._uU(1,"Edit Rates"),t.qZA()}}function x(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.updatePatientRates())}),t._uU(1,"Submit Editing"),t.qZA()}}function D(n,o){if(1&n&&t._UZ(0,"input",21),2&n){const e=t.oxw(2);t.Q6J("disabled",e.editRatesDisabled)("value",null!=e.rates&&e.rates.blood?e.rates.blood:"Not assigned")}}function Z(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"input",22),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw(2);return t.KtG(l.bloodPressure=a)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngModel",e.bloodPressure)("disabled",e.editRatesDisabled)}}function I(n,o){if(1&n&&t._UZ(0,"input",21),2&n){const e=t.oxw(2);t.Q6J("disabled",e.editRatesDisabled)("value",null!=e.rates&&e.rates.glucose?e.rates.glucose:"Not assigned")}}function T(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"input",22),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw(2);return t.KtG(l.SugarPressure=a)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngModel",e.SugarPressure)("disabled",e.editRatesDisabled)}}function C(n,o){if(1&n&&t._UZ(0,"input",21),2&n){const e=t.oxw(2);t.Q6J("disabled",e.editRatesDisabled)("value",null!=e.rates&&e.rates.Temperature?e.rates.Temperature:"Not assigned")}}function E(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"input",22),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw(2);return t.KtG(l.temprature=a)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngModel",e.temprature)("disabled",e.editRatesDisabled)}}function M(n,o){if(1&n&&(t.TgZ(0,"div",14)(1,"h3",6),t._uU(2,"Patient rates"),t.qZA(),t.TgZ(3,"div"),t.YNc(4,P,2,0,"button",15),t.YNc(5,x,2,0,"button",16),t.qZA(),t.TgZ(6,"div",7)(7,"div")(8,"mat-form-field",8)(9,"mat-label"),t._uU(10,"Blood pressure"),t.qZA(),t.YNc(11,D,1,2,"input",17),t.YNc(12,Z,1,2,"input",18),t.qZA()()(),t.TgZ(13,"div",7)(14,"div")(15,"mat-form-field",8)(16,"mat-label"),t._uU(17,"Blood Sugar"),t.qZA(),t.YNc(18,I,1,2,"input",17),t.YNc(19,T,1,2,"input",18),t.qZA()()(),t.TgZ(20,"div",7)(21,"div")(22,"mat-form-field",8)(23,"mat-label"),t._uU(24,"Temprature"),t.qZA(),t.YNc(25,C,1,2,"input",17),t.YNc(26,E,1,2,"input",18),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.showEdit),t.xp6(1),t.Q6J("ngIf",e.showEdit),t.xp6(6),t.Q6J("ngIf",e.editRatesDisabled),t.xp6(1),t.Q6J("ngIf",!e.editRatesDisabled),t.xp6(6),t.Q6J("ngIf",e.editRatesDisabled),t.xp6(1),t.Q6J("ngIf",!e.editRatesDisabled),t.xp6(6),t.Q6J("ngIf",e.editRatesDisabled),t.xp6(1),t.Q6J("ngIf",!e.editRatesDisabled)}}let A=(()=>{class n{constructor(e,i,a){this._DataService=e,this._ActivatedRoute=i,this._AngularFirestore=a,this.showEdit=!1,this.editRatesDisabled=!0,this.bloodPressure="",this.SugarPressure="",this.temprature="",this.rates={}}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{let i=e.get("id");this.getPatientById(i),this.patientId=i,this.updatePtientId(this.patientId)}})}toggleEditButton(){this.showEdit=!this.showEdit,this.editRatesDisabled=!this.editRatesDisabled}updatePatientRates(){this.showEdit=!this.showEdit,this.editRatesDisabled=!this.editRatesDisabled,this._DataService.updatePatient().doc(this.patientId).update({rates:{blood:this.bloodPressure,glucose:this.SugarPressure,Temperature:this.temprature}}),this.getPatientById(this.patientId)}updatePtientId(e){this._DataService.updatePatientId().doc(e).update({id:this.patientId})}getPatientById(e){this._DataService.getSpecificPatient().doc(e).get().subscribe({next:i=>{this.patient=i.data(),console.log(i.data()),console.log(this.patient.rates),this.rates=this.patient.rates,this.bloodPressure=this.rates?.blood,this.SugarPressure=this.rates?.glucose,this.temprature=this.rates?.Temperature},error:i=>{console.log(i)}})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(m.D),t.Y36(_.gz),t.Y36(g.ST))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-patient-details"]],standalone:!0,features:[t.jDz],decls:5,vars:3,consts:[[1,"main","container","py-5","ms-md-3"],["type","button","class","btn btn-primary d-block ms-auto mb-3",3,"routerLink",4,"ngIf"],["class","row shadow p-2  rounded-2",4,"ngIf"],["class","row shadow p-2  rounded-2 mt-4 ",4,"ngIf"],["type","button",1,"btn","btn-primary","d-block","ms-auto","mb-3",3,"routerLink"],[1,"row","shadow","p-2","rounded-2"],[1,"title","border-bottom","text-center","text-uppercase","text-info","pb-2"],[1,"col-md-6"],["appearance","outline"],["disabled","","placeholder","name","type","text","matInput","",3,"value"],["disabled","","placeholder","email","type","text","matInput","",3,"value"],["disabled","","placeholder","birth","type","text","matInput","",3,"value"],["disabled","","placeholder","gender","type","text","matInput","",3,"value"],["disabled","","placeholder","phone","type","text","matInput","",3,"value"],[1,"row","shadow","p-2","rounded-2","mt-4"],["class","btn btn-outline-success d-block ms-auto my-2",3,"click",4,"ngIf"],["class","btn btn-outline-dark d-block ms-auto my-2",3,"click",4,"ngIf"],["placeholder","rate","type","text","matInput","",3,"disabled","value",4,"ngIf"],["placeholder","rate","type","text","matInput","",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"btn","btn-outline-success","d-block","ms-auto","my-2",3,"click"],[1,"btn","btn-outline-dark","d-block","ms-auto","my-2",3,"click"],["placeholder","rate","type","text","matInput","",3,"disabled","value"],["placeholder","rate","type","text","matInput","",3,"ngModel","disabled","ngModelChange"]],template:function(i,a){1&i&&(t.TgZ(0,"section",0)(1,"div"),t.YNc(2,f,2,3,"button",1),t.YNc(3,v,33,5,"div",2),t.YNc(4,M,27,8,"div",3),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngIf",a.patient),t.xp6(1),t.Q6J("ngIf",a.patient),t.xp6(1),t.Q6J("ngIf",a.patient))},dependencies:[r.ez,r.O5,_.rH,c.m,d.Fj,d.JJ,d.On,p.KE,p.hX,h.Nt],styles:["input[_ngcontent-%COMP%]:disabled{color:#000!important}mat-label[_ngcontent-%COMP%]{color:var(--main-color)!important}mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return n})()}}]);