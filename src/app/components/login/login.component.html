
<section class=" main ">
    <div class="container w-75">
        <div class="row align-items-center">
            <div class="col-md-6">
                <div>
                    <div>
                        <h2 class="text-capitalize fw-bolder">welcome back<img src="assets/images/icons/wave.png" class="wave" alt=""></h2>
                        <p > We are here to assist you in providing the highest quality care for your patients.</p>
                    </div>
                    <form [formGroup]="loginForm"  class="example-form mt-5">
                        <mat-form-field class="example-full-width mb-2" appearance="outline">
                            <mat-label>Email</mat-label>
                            <input #emailInput formControlName="email" type="email" matInput placeholder="Enter Your email">
                            <mat-error *ngIf="loginForm.get('email')?.errors?.['email']">
                                Please enter a valid email address
                            </mat-error>
                            <mat-error *ngIf="loginForm.get('email')?.errors?.['required']">
                                Email is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                        
                        <mat-form-field class="example-full-width position-relative" appearance="outline">
                            <mat-label>Password</mat-label>
                            <input #password formControlName="password" [type]="eyeFlag?'text': 'password' " matInput placeholder="Enter you password">

                            <i *ngIf="!eyeFlag&&password.value.length>0" (click)="toggleEye()" class="position-absolute top-50 translate-middle-y password-eye fa fa-eye"></i>
                            <i *ngIf="eyeFlag&&password.value.length>0" (click)="toggleEye()" class="position-absolute top-50 translate-middle-y password-eye fa fa-eye-slash"></i>

                            <mat-error *ngIf="loginForm.get('password')?.errors?.['required']">
                                Password is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                        <p *ngIf="errMsg" class="alert alert-danger fs-6">{{errMsg}}</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <a (click)="forgetFormFlag=true" style="cursor: pointer;" class="text-decoration-none d-block">forget password ?</a>
                            <a routerLink="/register" class="text-decoration-none d-block">Register now</a>
                        </div>
                        <div>
                            <button [disabled]="loginForm.invalid" type="button" (click)="login()" class="btn-main w-100 mt-4"><span *ngIf="!loadingFlag">Sign in</span><i *ngIf="loadingFlag" class="fa fa-spinner fa-spin"></i></button>
                        </div>
                    </form> 
                    <p class="line text-center mt-4">Or</p>
                    <div class="d-flex flex-column gap-2 social">
                            <button (click)="loginWithGoogle()" class="text-capitalize fs-6"> Sign in with google <img class="login-icon" src="assets/images/google.png" alt=""></button>
                    </div>
                    <!-- <p class="mt-3 text-center">don't you have an account? <a class="text-decoration-none" routerLink="/register" >Sign up</a></p> -->
                </div>
            </div>
            
            <div class="col-md-5 offset-1">
                <div>
                    <img class="w-100" src="assets/images/icons/undraw_sign_up_n6im.svg" alt="">
                </div>
            </div>
        </div>
    </div>
    <div (click)="forgetFormFlag=false" *ngIf="forgetFormFlag" class="position-fixed all-forms top-0 bottom-0 end-0 start-0 d-flex justify-content-center align-items-center z-3">
        <div class="main-forms">
            <div class="forget-form p-5 bg-white rounded-2" (click)="stop($event)">
                <div class="d-flex mb-2 justify-content-between align-items-center">
                    <h2 class="h1">Forget password form</h2>
                    <i (click)="forgetFormFlag=false" style="cursor: pointer;" class="fa fa-x fa-xl"></i>
                </div>
                <div>
                    <form [formGroup]="forgetForm">
                        <mat-form-field class="example-full-width mb-2" appearance="outline">
                            <mat-label>Email</mat-label>
                            <input #emailInput formControlName="email" type="email" matInput placeholder="Enter Your email">
                            <mat-error *ngIf="forgetForm.get('email')?.errors?.['email']">
                                Please enter a valid email address
                            </mat-error>
                            <mat-error *ngIf="forgetForm.get('email')?.errors?.['required']">
                                Email is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                        <button [disabled]="forgetForm.invalid" type="button" (click)="forgetPassword()" class="btn btn-success d-block ms-auto">Send</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
